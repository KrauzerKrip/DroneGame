(()=>{"use strict";class t{constructor(t=0,e=0){this.x=t,this.y=e}}class e{constructor(e,s={position:new t(0,0),rotation:0,scale:new t(0,0)},n=function(){function t(){return Math.random().toString(16).slice(2,6)}return`${t()+t()}-${t()}-${(65536*Math.random()|16384).toString(16).slice(1)}-${(65536*Math.random()|32768).toString(16).slice(1)}-${t()+t()+t()}`}()){this.name=n,this.transform=s,this.sprite=e}update(t){}render(){}}class s{constructor(e,s){this.pos=new t(0,0),this.rot=0,this.element=e,this.imgElement=s}static fromImage(t){const e=document.createElement("div"),n=document.createElement("img");return n.src=t,n.onload=()=>{e.style.width=`${n.width}px`,e.style.height=`${n.height}px`},e.appendChild(n),e.style.position="absolute",document.body.appendChild(e),new s(e,n)}getSize(){return new t(this.imgElement.width,this.imgElement.height)}setPosition(t){this.pos=t,this.updateStyle()}getRotation(){return this.rot}setRotation(t){this.rot=t,this.updateStyle()}updateStyle(){this.element.style.transform=`\n      translate(${this.pos.x}px, ${this.pos.y}px)\n      rotate(${this.rot}deg)\n    `}}class n extends e{constructor(t,e,n){super(s.fromImage("resources/sprites/drone.png"),{position:t,rotation:e,scale:n})}}class o extends e{constructor(e,n,o){super(s.fromImage("resources/sprites/obstacle.png"),{position:e,rotation:n,scale:new t(1,1)})}}const i=new class{constructor(){this.gameObjects={},this.lastRenderTime=Date.now()}create(){const e=new n(new t(.25*window.innerWidth,.25*window.innerHeight),0,new t(1,1)),s=new o(new t(200,200),0,new t(400,100));this.gameObjects[e.name]=e,this.gameObjects[s.name]=s}runGameLoop(){this.gameLoop()}gameLoop(){const t=Date.now()-this.lastRenderTime;for(const e in this.gameObjects)this.gameObjects[e].update(t);for(const t in this.gameObjects)this.gameObjects[t].render();this.lastRenderTime=Date.now(),requestAnimationFrame((()=>this.gameLoop()))}};i.create(),i.runGameLoop()})();